import{a as w,S,i}from"./assets/vendor-CrlV4O_2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const q="50507982-c6a73d82cfbe0bce0234dfd9b",v="https://pixabay.com/api/";async function f(o,t){return(await w.get(v,{params:{key:q,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}const m=document.querySelector(".gallery"),h=document.querySelector("#load-more"),y=document.querySelector("#loader");let B=new S(".gallery a");function g(o){const t=o.map(a=>`<a href="${a.largeImageURL}" class="gallery-item">
              <img src="${a.webformatURL}" alt="${a.tags}" loading="lazy" />
            </a>`).join("");m.insertAdjacentHTML("beforeend",t),B.refresh()}function M(){m.innerHTML=""}function p(){y.classList.remove("hidden")}function L(){y.classList.add("hidden")}function b(){h.classList.remove("hidden")}function c(){h.classList.add("hidden")}const O=document.querySelector("#search-form"),E=document.querySelector("#load-more");let s="",n=1,d=0;O.addEventListener("submit",async o=>{if(o.preventDefault(),s=o.target.elements.searchQuery.value.trim(),!!s){n=1,M(),c(),p();try{const t=await f(s,n);if(d=t.totalHits,t.hits.length===0){i.info({message:"No images found. Try another query."});return}g(t.hits),t.hits.length<15||n*15>=d?c():b()}catch{i.error({message:"Something went wrong."})}finally{L()}}});E.addEventListener("click",async()=>{n+=1,p(),c();try{const o=await f(s,n);g(o.hits);const a=document.querySelector(".gallery a").getBoundingClientRect().height;window.scrollBy({top:a*2,behavior:"smooth"}),n*15>=d?(c(),i.info({message:"We're sorry, but you've reached the end of search results."})):b()}catch{i.error({message:"Failed to load more images."})}finally{L()}});
//# sourceMappingURL=index.js.map
